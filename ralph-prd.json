[
  {
    "id": "1",
    "category": "extract",
    "description": "Create useSessionManager composable",
    "details": "Extract session/cycle queue logic. Manages: current cycle index, cycle array, progression. Uses Cycle types. Methods: getCurrentCycle(), getNextCycle(), markCycleComplete(), skipToNext(), jumpTo(index). Does NOT handle playback - just queue management. File: /packages/player-vue/src/composables/useSessionManager.ts",
    "passes": true,
    "risk": "high",
    "verification": "TypeScript compiles, exports all methods"
  },
  {
    "id": "2",
    "category": "test",
    "description": "Write useSessionManager tests",
    "details": "Test: getCurrentCycle returns cycle at current index. Test: markCycleComplete advances index. Test: skipToNext skips current. Test: jumpTo moves to specific index. Test: getNextCycle returns null at end. File: /packages/player-vue/src/composables/useSessionManager.test.ts",
    "passes": true,
    "risk": "medium",
    "verification": "pnpm --filter player-vue test passes"
  },
  {
    "id": "3",
    "category": "bridge",
    "description": "Create scriptItemToCycle converter",
    "details": "Bridge function that converts existing ScriptItem (from generateLearningScript) to new Cycle format. Maps: knownText→known.text, audioRefs→audioIds, etc. Allows gradual migration. File: /packages/player-vue/src/utils/scriptItemToCycle.ts",
    "passes": true,
    "risk": "medium",
    "verification": "TypeScript compiles, converts ScriptItem to Cycle"
  },
  {
    "id": "4",
    "category": "integrate",
    "description": "Create LearningSession.vue orchestrator",
    "details": "New component that composes useSessionManager + CyclePlayer. Gets cycles via scriptItemToCycle bridge. On cycle-complete, calls markCycleComplete and loads next. Has stop/pause controls. Under 200 lines. File: /packages/player-vue/src/components/LearningSession.vue",
    "passes": false,
    "risk": "high",
    "verification": "Component plays cycles in sequence"
  },
  {
    "id": "5",
    "category": "integrate",
    "description": "Add session validation gate",
    "details": "Before LearningSession starts, validate all cycles have audio. Use validateSession from validateCycle.ts. Show 'Loading...' or 'Ready' state. Block playback until validated.",
    "passes": false,
    "risk": "medium",
    "verification": "Session won't start with missing audio"
  },
  {
    "id": "6",
    "category": "wire",
    "description": "Wire network visualization events",
    "details": "LearningSession emits 'cycle-started' with legoId. Parent component (or composable) uses this to reveal network nodes. Don't move network code - just emit events for it to consume.",
    "passes": false,
    "risk": "low",
    "verification": "Events emit with correct legoId"
  },
  {
    "id": "7",
    "category": "wire",
    "description": "Wire belt progress events",
    "details": "LearningSession emits 'cycle-complete' with cycle type. For 'debut' cycles, this triggers belt update. Connect to existing useBeltProgress.",
    "passes": false,
    "risk": "low",
    "verification": "Belt updates on debut completion"
  },
  {
    "id": "8",
    "category": "feature",
    "description": "Add skip and jump controls",
    "details": "LearningSession exposes skip() and jumpTo(). Skip stops current cycle and advances. JumpTo stops and moves to index. Wire to UI buttons and network node clicks.",
    "passes": false,
    "risk": "medium",
    "verification": "Skip button and node clicks work"
  },
  {
    "id": "9",
    "category": "test",
    "description": "Create LearningSession test page",
    "details": "Route /test/session that loads LearningSession with real course data. Uses existing CourseDataProvider + scriptItemToCycle bridge. Shows network, belt, skip controls.",
    "passes": false,
    "risk": "medium",
    "verification": "Full session plays in browser"
  },
  {
    "id": "10",
    "category": "flag",
    "description": "Add feature flag for new player",
    "details": "In PlayerContainer or router, add USE_NEW_SESSION flag. When true, render LearningSession. When false, render old LearningPlayer. Default false for safety.",
    "passes": false,
    "risk": "low",
    "verification": "Flag toggles between old and new player"
  }
]
